import mysql.connector
from mysql.connector import Error

# 삽입할 데이터를 (구분, 세부항목, 상세내용) 형태의 튜플 리스트로 구성합니다.
data = [
    
    ("일반 규칙", "출입", "얼굴 ID 인식 사용 필수. 학기 시작 전 행정실(103-104동 사이 4층)에서 얼굴 데이터 및 개인 정보 등록. 특정 상황 시 NFC ID 카드 요청 가능."),
    ("일반 규칙", "통금 시간", "자정 12시 ~ 오전 5시 (문 잠김). 잠겼을 경우 입구 게시된 연락처로 전화."),
    ("일반 규칙", "호실 점검", "각 건물별 일정에 따라 정기 점검 (청결, 정리정돈 상태 평가). 화장실, 발코니 항상 정돈."),
    ("일반 규칙", "평일 외출", "최소 하루 전 기숙사 관리자 승인 및 복귀 시 보고 필수. 건물별 절차 상이할 수 있으니 확인 필요."),
    ("일반 규칙", "퇴사", "최소 3일 전 관리자와 상담 후 신청서 제출. 기숙사비 환불 불가."),

    ("기숙사 시설 이용", "도어 비밀번호", "자동/수동 작동법 숙지, 정기적 비밀번호 변경 권장. 분실/도난 책임 없음."),
    ("기숙사 시설 이용", "소음", "24:00 이후 전화 통화, 큰 소리 대화, 높은 볼륨 기기 사용 자제."),
    ("기숙사 시설 이용", "화장실 사용", "사용 후 청소 (변기 물 내리기, 거울 닦기, 쓰레기 처리). 콘센트 책임감 있게 사용."),
    ("기숙사 시설 이용", "쓰레기 분리수거", "지정된 쓰레기통 사용, 분리수거 지침 준수."),
    ("기숙사 시설 이용", "냉장고", "책임감 있는 사용. 썩거나 유통기한 지난 음식, 금지 품목(김치, 냄새 심한 음식) 관리자 폐기 가능. 보관 시 이름/호실 표기된 상자 사용."),
    ("기숙사 시설 이용", "공용 공간", "호실 문 밖에 물건 방치 금지 (압수됨). 공용 공간 개인 물품 방치 금지. 빨래 건조대, 여행 가방 방치 금지."),
    ("기숙사 시설 이용", "기숙사 재산", "벽에 못 박기 금지. 벽지 손상 가능성 있는 부착물 금지."),
    ("기숙사 시설 이용", "택배", "중요 우편물: 행정실에서 신분증 제시 후 수령. 일반 택배: 지정된 수령 장소(104동 아래 스마일 박스). 분실 책임 없음 (문제 시 배송 기사 직접 연락)."),
    ("기숙사 시설 이용", "컴퓨터실", "공용 사용. 음식/음료 반입 금지. 책임감 있는 사용. 불법 사이트 접속/다운로드 금지 (법적 책임)."),
    ("기숙사 시설 이용", "식당", "운영 시간(오전 5시~자정 12시) 내 출입 가능. 사용 후 정리. 전자레인지 사용 주의 (2분 30초 제한). 사용 후 에어컨 끄기."),
    ("기숙사 시설 이용", "스터디룸", "24시간 이용 가능. 자리 맡기 위해 소지품 방치 금지 (수거 가능, 사무실 문의). 미사용 시 조명/냉난방 끄기. TV 사용 시 볼륨 주의."),
    ("기숙사 시설 이용", "세미나실", "사용 희망 시 최소 3일 전 사무실에 알려 승인 필요."),
    ("기숙사 시설 이용", "방을 나가기 전", "모든 전원 플러그 뽑기, 조명/냉난방/보일러 끄기 확인."),

    ("주의사항 (화재)", "초기 대응", "비상벨/외침으로 알림, 방재센터에 상세 정보(건물, 호실, 상황) 전달."),
    ("주의사항 (화재)", "소방서 신고", "주소(OO빌딩, OO동, OO구), 주변 건물, 화재 종류(가스/유류/전기 등) 알림. 안전 시 전기/가스 차단."),
    ("주의사항 (화재)", "초기 진화", "가능 시 소화기, 물통, 옥내 소화전 사용. 실패 시 즉시 대피."),
    ("주의사항 (화재)", "소방관 도착 시", "건물 구조, 사상자, 위험 물질 정보 전달."),
    ("주의사항 (화재)", "화재 대피 지침 (요약)", "경보/외침 알림, 비상문 닫기, 젖은 수건 사용, 낮은 자세/짧은 호흡, 엘리베이터 금지, 옥상/안전 구역 대피, 창문으로 구조 신호, 연기 차단."),
    ("주의사항 (화재)", "소화기 사용법", "안전핀 뽑기 -> 노즐을 불 밑부분 조준 (바람 등지고) -> 손잡이 쥐고 좌우로 분사."),
    ("주의사항 (화재)", "소화기 관리", "눈에 잘 띄고 통행 방해 않는 곳, 직사광선/습기 피함, 월 1회 점검/흔들기, 압력 게이지(녹색) 확인."),

    ("주의사항 (화상)", "기본 응급처치", "생리식염수/수돗물로 식히기, 옷 달라붙으면 가위로 자르기, 멸균 거즈 덮기, 체온 유지."),
    ("주의사항 (화상)", "옷/몸에 불 붙었을 때", "즉시 멈춰 바닥에 엎드려 구르기."),
    ("주의사항 (화상)", "1도/2도 화상", "물집 터뜨리지 않기, 소독 후 바셀린/화상 연고 드레싱."),
    ("주의사항 (화상)", "3도 이상 화상", "충격/감염 방지, 체온 유지, 달라붙은 옷 억지로 떼지 않기(가위 사용), 베이킹소다/생리식염수 적신 천 대기, 물집 주의, 소독 후 바셀린/화상 연고 드레싱."),

    ("기타 주의사항", "개인 소지품", "타인 물건 만지지 않기. 분실물 발견 시 사무실에 맡기기."),

    ("금지 행위", "목록", "폭력, 절도, 음주/약물, 위험물(전기난로, 인화물질) 반입, 실내 취사/밥솥 사용, 도박, 실내 흡연, 성별 제한 구역 무단 출입, 재산 손괴, 미승인 홍보물 부착/배포, 감독관/지도교사 지시 불복종. (위반 시 즉시 퇴실 가능)"),

    ("상벌 제도", "청결 호실 포상", "가장 깨끗한 호실에 특별 쿠폰 지급."),
    ("상벌 제도", "벌점", "규칙 위반 시 벌점 부과. 누적 시 퇴사 및 다음 학기 재신청 불가."),
    ("상벌 제도", "중대 위반", "심각성에 따라 법적 조치 (소송, 추방 등) 가능."),

    ("세탁 카페", "이용 방법 (메타클럽 앱)", "앱 다운/로그인 → 금액 충전(계좌이체/편의점) → '세탁' 선택 → 세탁실 선택 → 기기(세탁기/건조기) 선택 및 동기화 → '시작' 탭 → 진행 상황 확인. (세제 자동 투입)"),

    ("버스 시간표", "링크", "https://drive.google.com/drive/folders/1q1fFBG-HPS1Du9oZCufob5d1hlD6bCxD?usp=sharing"),

    ("연락처 정보", "기숙사 행정실", "카카오: https://pf.kakao.com/_fekTK, 웹사이트: https://dorm.sunmoon.ac.kr/, 전화: 041-530-8505"),
    ("연락처 정보", "기숙사 관리", "사업자번호: 312-82-03075, 대표: 문성제, 주소: 충남 아산시 탕정면 선문로221번길 70, 전화: 041-530-8505"),
    ("연락처 정보", "소방서", "아산소방서: 041-538-0201, 천안동남소방서: 041-570-0201, 천안서북소방서: 041-360-0200, 탕정119안전센터: 041-538-0442"),
    ("연락처 정보", "병원", "아산충무병원: 041-536-6666, 천안충무병원: 041-570-7555, 천안의료원: 041-570-7200, 순천향대 천안병원: 041-570-2114"),
    ("연락처 정보", "긴급 전화", "화재, 구조, 구급: 119"),
    ("연락처 정보", "국민재난안전포털", "http://eng.safekorea.go.kr/main/selectMainMng.do"),
    ("연락처 정보", "경찰서", "아산지구대: 041-538-0844, 탕정파출소: 041-538-0847, 천안동남경찰서: 041-590-2324, 천안서북경찰서: 041-536-1224"),
]




try:
    conn = mysql.connector.connect(
        host="localhost",
        user="root",
        password="1234",
        database="rasa_core"
    )
    
    if conn.is_connected():
        print("MySQL 접속 성공")
    
    cursor = conn.cursor()
    
    # 1) 테이블 생성 쿼리 (INSERT INTO 는 없음)
    create_table_query = """
    CREATE TABLE IF NOT EXISTS rules_data (
        id INT AUTO_INCREMENT PRIMARY KEY,
        category VARCHAR(255) NOT NULL,
        sub_category VARCHAR(255) NOT NULL,
        details TEXT NOT NULL
    )
    """
    cursor.execute(create_table_query)
    
    # 2) 데이터 삽입 쿼리 (INSERT INTO 문 두 번 쓰지 않음)
    insert_query = "INSERT INTO rules_data (category, sub_category, details) VALUES (%s, %s, %s)"
    
    cursor.executemany(insert_query, data)
    conn.commit()
    
    print("총 삽입 레코드 수:", cursor.rowcount)
    
except Error as e:
    print("에러 발생:", e)
    
finally:
    if conn.is_connected():
        cursor.close()
        conn.close()
        print("MySQL 연결 종료")